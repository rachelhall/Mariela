---
import CardShell from "./CardShell";
import Text from "./Text.astro";

const showData = {
  tours: [
    {
      name: "No More Truama Tour",
      year: 2024,
      link: "https://www.instagram.com/p/C_vRf4iO_B7/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA==",
      description: "National Tour with",
      with: {
        name: "Flamy Grant",
        url: "https://www.flamygrant.com/",
      },
    },
  ],
  festivals: [
    { name: "San Diego Pride", year: 2025, location: "San Diego, CA" },
    { name: "ArtWalk", year: 2025, location: "San Diego, CA" },
    { name: "SheFest", year: 2024, location: "San Diego, CA" },
    { name: "San Diego Pride", year: 2023, location: "San Diego, CA" },
    {
      name: "Adams Ave Street Festival",
      year: 2023,
      location: "San Diego, CA",
    },
    { name: "SheFest", year: 2023, location: "San Diego, CA" },
    { name: "Black Potato Festival", year: 2019, location: "Clinton, NJ" },
    { name: "Alpharetta Pop Festival", year: 2018, location: "Atlanta, GA" },
  ],
  citiesAndVenues: {
    Nashville: [
      "The East Room",
      "The Underdog",
      "The 5 Spot",
      "The Basement",
      "The End",
      "The Cobra",
      "DRKMTTR Collective",
      "The Springwater",
      "Cafe Coco",
      "Kimbro's Pickin' Parlor",
      "Rocketown",
      "The Bowery Vault",
      "The Highwatt",
      "The Country",
    ],
    "San Diego": [
      "The Belly Up",
      "The Music Box",
      "Soda Bar",
      "The Black Cat",
      "The Whistle Stop",
      "The Ould Sod",
      "Winstons",
      "The Holding Company",
    ],
    "Los Angeles": ["Saint Rocke", "Hotel Cafe", "The Fox Den", "Bobby V's"],
    "New York": ["C'Mon Everybody", "Pianos"],
    Atlanta: ["Eddie's Attic", "The Masquerade"],
    Cincinnati: ["Urban Artifact", "Northside Tavern"],
    Birmingham: ["The Nick"],
    Charlottesville: ["The Twisted Tea Bazaar"],
    "Washington D.C.": ["The Electric Maid"],
    Dallas: ["Ruins"],
    Tulsa: ["The Colony"],
    "Springfield, MO": ["The Riff"],
    "St. Louis": ["Moshmellow"],
    Chicago: ["Hideout"],
    "South Bend": ["Stockroom East"],
    "Grand Rapids": ["Fountain Street Church"],
    "Maryville, TN": ["The Bird and the Book"],
    Chattanooga: ["Barking Legs Theatre"],
    "Charlotte, NC": ["Watershed Charlotte"],
    Louisville: ["Odeon"],
    "Florence, AL": ["116 E Mobile"],
  },
};
---

<section class="shows" id="shows">
  <Text textAlign="center" uppercase type="heading-md" color="primary-900">
    Tour/Show History
  </Text>

  <div class="content">
    <!-- TOURS -->
    <CardShell title="Tours">
      <ul>
        {
          showData.tours.map((tour) => (
            <li>
              <strong>
                <a class="link" href={tour.link} target="_blank">
                  {tour.name}
                </a>
              </strong>{" "}
              {tour.description}
              <a class="link" href={tour.with.url} target="_blank">
                {tour.with.name}
              </a>
              , {tour.year}
            </li>
          ))
        }
      </ul>
    </CardShell>

    <!-- FESTIVALS -->
    <CardShell title="Festivals">
      <ul>
        {
          showData.festivals.map((festival) => (
            <li>
              <strong>{festival.name}</strong>, {festival.year} â€”{" "}
              {festival.location}
            </li>
          ))
        }
      </ul>
    </CardShell>

    <!-- CITIES & VENUES -->
    <CardShell title="Cities + Venues">
      <div class="accordion">
        {
          Object.entries(showData.citiesAndVenues).map(([city, venues]) => (
            <details>
              <summary>
                <strong>{city}</strong>
              </summary>
              <ul>
                {venues.map((venue) => (
                  <li>{venue}</li>
                ))}
              </ul>
            </details>
          ))
        }
      </div>
    </CardShell>
  </div>
</section>

<style lang="scss">
  .shows {
    padding: 3rem clamp(1.5rem, 4vw, 3rem);
    display: flex;
    flex-direction: column;
    gap: 2rem;
    align-items: center;
    margin-block: 2rem;
    background-color: var(--white);
  }

  .content {
    width: min(1100px, 100%);
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  .link {
    margin: 0 2px;
    text-decoration: underline;
    text-underline-offset: 2px;
    color: var(--white);
  }

  ul {
    list-style: none;
    padding-left: 1.5rem;
    margin-top: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
  }

  li {
    font-weight: 400;
    position: relative;
    color: var(--neutral-100);
  }

  .accordion details {
    margin-top: 0.5rem;
    background: rgba(255, 255, 255, 0.04);
    padding: 0.75rem;
    border-radius: 0.75rem;
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, 0.08);
    transition:
      background 120ms ease,
      transform 120ms ease;
  }

  .accordion details:hover {
    background: rgba(255, 255, 255, 0.07);
    transform: translateY(-1px);
  }

  .accordion summary {
    cursor: pointer;
    font-weight: bold;
    color: var(--white);
  }

  .accordion ul {
    padding-left: 1rem;
    margin-top: 0.5rem;
    color: var(--neutral-100);
  }

  @media screen and (max-width: 636px) {
    .shows {
      padding: 2rem 1.25rem;
    }
  }
</style>
